{"version":3,"file":"VariableTemplateAdapter.js","sourceRoot":"","sources":["VariableTemplateAdapter.ts"],"names":[],"mappings":";;;AACA,uDAA+C;AAK/C;;GAEG;AACH,MAAsB,uBAAuB;IAM3C,YACE,IAAY,EACZ,oBAA4C,EAC5C,iBAAuC;QALtB,OAAE,GAAG,IAAI,8BAAW,EAAE,CAAC;QAOxC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,oBAAoB,GAAG,oBAAoB,CAAC;QACjD,IAAI,CAAC,iBAAiB,GAAG,iBAAiB,IAAI,EAAE,CAAC;IACnD,CAAC;IAEM,OAAO;QACZ,OAAO,IAAI,CAAC,IAAI,CAAC;IACnB,CAAC;IAEM,uBAAuB;QAC5B,OAAO,IAAI,CAAC,oBAAoB,CAAC;IACnC,CAAC;IAEM,UAAU,CAAC,KAAc;QAC9B,IAAI,IAAI,GAAa,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;QACjD,KAAK,MAAM,gBAAgB,IAAI,IAAI,CAAC,iBAAiB,EAAE;YACrD,IAAI,GAAG,gBAAgB,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;SACzC;QACD,OAAO,IAAI,CAAC;IACd,CAAC;CAGF;AAjCD,0DAiCC","sourcesContent":["import type * as RDF from '@rdfjs/types';\nimport { DataFactory } from 'rdf-data-factory';\nimport type { ISubstitutionProvider } from '../substitution/ISubstitutionProvider';\nimport type { IValueTransformer } from '../valuetransformer/IValueTransformer';\nimport type { IVariableTemplate, RawTerm } from './IVariableTemplate';\n\n/**\n * An adapter for instantiating RDF terms from a variable value.\n */\nexport abstract class VariableTemplateAdapter implements IVariableTemplate {\n  protected readonly name: string;\n  protected readonly substitutionProvider: ISubstitutionProvider | undefined;\n  protected readonly valueTransformers: IValueTransformer[];\n  protected readonly DF = new DataFactory();\n\n  public constructor(\n    name: string,\n    substitutionProvider?: ISubstitutionProvider,\n    valueTransformers?: IValueTransformer[],\n  ) {\n    this.name = name;\n    this.substitutionProvider = substitutionProvider;\n    this.valueTransformers = valueTransformers || [];\n  }\n\n  public getName(): string {\n    return this.name;\n  }\n\n  public getSubstitutionProvider(): ISubstitutionProvider | undefined {\n    return this.substitutionProvider;\n  }\n\n  public createTerm(value: RawTerm): RDF.Term {\n    let term: RDF.Term = this.createTermInner(value);\n    for (const valueTransformer of this.valueTransformers) {\n      term = valueTransformer.transform(term);\n    }\n    return term;\n  }\n\n  public abstract createTermInner(value: RawTerm): RDF.Term;\n}\n"]}