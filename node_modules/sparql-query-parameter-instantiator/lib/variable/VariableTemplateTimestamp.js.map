{"version":3,"file":"VariableTemplateTimestamp.js","sourceRoot":"","sources":["VariableTemplateTimestamp.ts"],"names":[],"mappings":";;;AAIA,uEAAoE;AAEpE;;GAEG;AACH,MAAa,yBAA0B,SAAQ,iDAAuB;IAGpE,YACE,IAAY,EACZ,oBAA4C,EAC5C,iBAAuC,EACvC,QAAQ,GAAG,2CAA2C;QAEtD,KAAK,CAAC,IAAI,EAAE,oBAAoB,EAAE,iBAAiB,CAAC,CAAC;QACrD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;IAC9C,CAAC;IAEM,eAAe,CAAC,KAAc;QACnC,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;YACxB,MAAM,IAAI,KAAK,CAAC,0EAA0E,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;SACxG;QACD,OAAO,IAAI,CAAC,EAAE,CAAC,OAAO,CACpB,IAAI,IAAI,CAAC,OAAO,KAAK,KAAK,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,WAAW,EAAE,EACtF,IAAI,CAAC,QAAQ,CACd,CAAC;IACJ,CAAC;CACF;AAtBD,8DAsBC","sourcesContent":["import type * as RDF from '@rdfjs/types';\nimport type { ISubstitutionProvider } from '../substitution/ISubstitutionProvider';\nimport type { IValueTransformer } from '../valuetransformer/IValueTransformer';\nimport type { RawTerm } from './IVariableTemplate';\nimport { VariableTemplateAdapter } from './VariableTemplateAdapter';\n\n/**\n * A template for instantiating RDF xsd:dateTime Literals from a variable value that represents a UNIX timestamp.\n */\nexport class VariableTemplateTimestamp extends VariableTemplateAdapter {\n  private readonly datatype: RDF.NamedNode;\n\n  public constructor(\n    name: string,\n    substitutionProvider?: ISubstitutionProvider,\n    valueTransformers?: IValueTransformer[],\n    datatype = 'http://www.w3.org/2001/XMLSchema#dateTime',\n  ) {\n    super(name, substitutionProvider, valueTransformers);\n    this.datatype = this.DF.namedNode(datatype);\n  }\n\n  public createTermInner(value: RawTerm): RDF.Term {\n    if (Array.isArray(value)) {\n      throw new Error(`Received unsupported array value for the VariableTemplateTimestamp for ${this.name}`);\n    }\n    return this.DF.literal(\n      new Date(typeof value === 'number' ? value : Number.parseInt(value, 10)).toISOString(),\n      this.datatype,\n    );\n  }\n}\n"]}