"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.QuadTransformerCompositeSequential = void 0;
/**
 * Executes a collection of transformers in sequence.
 */
class QuadTransformerCompositeSequential {
    constructor(transformers) {
        this.transformers = transformers;
    }
    transform(quad, allowedComponent) {
        // Pipe quad through all transformers
        let quads = [quad];
        for (const transformer of this.transformers) {
            quads = quads.flatMap(subQuad => transformer.transform(subQuad, allowedComponent));
        }
        return quads;
    }
    end() {
        // Terminate all transformers
        for (const transformer of this.transformers) {
            if (transformer.end) {
                transformer.end();
            }
        }
    }
}
exports.QuadTransformerCompositeSequential = QuadTransformerCompositeSequential;
//# sourceMappingURL=QuadTransformerCompositeSequential.js.map